# Lab 0

## 理论部分

### 操作系统概述

#### 课后错题

1.下列选项中，操作系统提供给应用程序的接口是（ ）

**A.系统调用**

B.中断

C.库函数

D.原语

2.计算机开机后，操作系统最终被加载到（ ）

A.BIOS

B.ROM

C.EPROM

**D.RAM**

## 实验部分

### 准备知识

#### Intel 80386运行模式

80386有四种运行模式，实模式、保护模式、SMM模式和虚拟8086模式

80386加电启动后处于实模式运行状态，实模式的存在是为了intel x86的向下兼容需求。实模式把整个物理内存看作是分段的区域，程序代码和数据位于不同的区域，操作系统和用户程序没有区别对待。

80386工作在保护模式时，32根地址线都可供寻址，物理寻址空间高达4GB。保护模式支持内存分页机制，提供对虚拟内存的良好支持。支持多任务、优先级机制，不同的程序可以运行在不同的特权级上。

#### Intel 80386内存架构

内存处理机制：

- 段机制：对内存单元的安全保护和隔离
- 页机制：有效支持大量应用程序分散使用大内存

三个地址空间：

- 物理地址空间：处理器提交到总线上、用于访问计算机系统中内存和外设的最终地址
- 线性地址空间：80386处理器通过段机制控制下形成的地址空间，实现多个运行的应用程序之间相互隔离、保护地址空间
  - 在操作系统的管理下，每个运行的应用程序有相对独立的一个或多个内存空间段
  - 每个段有各自的起始地址和长度属性，大小不固定
- 逻辑地址空间：面向程序员的地址（虚拟地址）

三者关系：

- 分段机制启动、分页机制未启动：逻辑地址--->**段机制处理**--->线性地址=物理地址
- 分段机制和分页机制都启动：逻辑地址--->**段机制处理**--->线性地址--->**页机制处理**--->物理地址

### 具体操作

本实验我选择的环境是在Win上通过VMware虚拟机使用Linux Ubuntu 16.04实验环境，首先下载相应的lab：

```
git clone https://github.com/kiukotsu/ucore
```

随后安装qemu：

```
sudo apt-get install qemu-system
```

